{"version":3,"sources":["js/api.js"],"names":["ApiConstructor","signIn","provider","arguments","length","undefined","window","location","href","endpoint","getProfile","token","url","_rxDom2","default","DOM","getJSON","do","response","errorType","Object","freeze","_rxDom","require","Api"],"mappings":"qFAOA,QAASA,kBAHT,GAAAC,GAAA,WAAA,GAAAC,GAAAC,UAAAC,QAAA,GAAAC,SAAAF,UAAA,GAAA,WAAAA,UAAA,EACAG,QAAMC,SAAWC,KAAAC,SAAjB,0BAAiBP,GAaVQ,EAAa,SAACC,EAAOT,GAT3B,GAAAU,GAAAH,SAAA,2BAAAE,EAAA,aAAAT,CAWC,OAAOW,SAAAC,QAAGC,IACRC,QAAQJ,GACRK,GAAG,SAACC,GACJ,GAAMA,EAASC,UATZ,KAAAD,KAEL,OAFDE,QAAAC,QAeCpB,OAAAA,EAXDS,WAAAA,0DAlBD,IAAAY,QAAAC,QAAA,iDAKMd,SAAW,6DAahBe,IAAA,GAAAxB,gCAUcwB","file":"js/api.js","sourcesContent":["import Rx from 'rx-dom'\n\n// social-authentication\n//const endpoint = 'https://0qnniuje2b.execute-api.us-east-1.amazonaws.com/dev'\n// conatel-cmx\nconst endpoint = 'https://kvmveb8o06.execute-api.us-east-1.amazonaws.com/dev' \n\nfunction ApiConstructor() {\n\n\t/**\n\t * Inititates the correct signin process given the provided 'provider'\n\t * @param  {String} provider Provider name. One of 'google' or 'facebook'\n\t * @return {Void}          \n\t */\n\tconst signIn = (provider='facebook') => {\n\t\twindow.location.href = `${endpoint}/authentication/signin/${provider}`\n\t}\n\n\tconst getProfile = (token, provider) => {\n\t\tconst url = `${endpoint}/authentication/profile/${token}?provider=${provider}`\n\t\treturn Rx.DOM\n\t\t\t.getJSON(url)\n\t\t\t.do((response) => {\n\t\t\t\tif (!!response.errorType)\n\t\t\t\t\tthrow response\n\t\t\t})\n\t}\n\n\treturn Object.freeze({\n\t\tsignIn,\n\t\tgetProfile,\n\t})\n\n}\n\nconst Api = new ApiConstructor()\n\nexport default Api"],"sourceRoot":"/source/"}